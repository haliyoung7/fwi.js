var fwi=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function i(r,a){try{var u=t[r](a),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){i("next",e)},function(e){i("throw",e)});e(o)}return i("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=window.frameElement?window.frameElement.parentNode.FWI:window.external,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=new WeakMap,s=new WeakMap,f=function(){function e(n,i){t(this,e),c.set(this,n),s.set(this,i)}return l(e,[{key:"getDetails",value:function(){return e.GetDetails(this.name)}},{key:"print",value:function(t){e.Print(this.region_name,t)}},{key:"seek",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.Seek(this.region_name,t,n)}},{key:"setArgument",value:function(t){e.SetArgument(this.region_name,t)}},{key:"showRoute",value:function(t){e.ShowRoute(this.region_name,t)}},{key:"pause",value:function(){e.Pause(this.region_name)}},{key:"play",value:function(){e.Play(this.region_name)}},{key:"seekBy",value:function(t){e.SeekBy(this.region_name,t)}},{key:"seekTo",value:function(t){e.SeekTo(this.region_name,t)}},{key:"resume",value:function(){e.Resume(this.region_name)}},{key:"setBalance",value:function(t){e.SetBalance(this.region_name,t)}},{key:"setVolume",value:function(t){e.SetVolume(this.region_name,t)}},{key:"stop",value:function(){e.Stop(this.region_name)}},{key:"name",get:function(){return c.get(this)}},{key:"region_name",get:function(){return s.get(this)}}],[{key:"GetDetails",value:function(e){return o.GetUrl("content://"+e)}},{key:"Print",value:function(e,t){o.RunScript("Content["+e+"].Print("+t+");")}},{key:"Seek",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o.RunScript("Content["+e+"].Seek("+t+", "+n+");")}},{key:"SetArgument",value:function(e,t){o.RunScript("Content["+e+"].SetArgument("+t.keys[0]+", "+t.values[0]+");")}},{key:"ShowRoute",value:function(e,t){o.RunScript("Content["+e+"].ShowRoute("+t.keys[0]+"="+t.values[0]+");")}},{key:"Url",value:function(e){return o.RunScript("Content.Url("+e+");")}},{key:"UrlAsync",value:function(e){return o.RunScript("Content.UrlAsync("+e+");")}},{key:"Pause",value:function(e){o.RunScript("Content["+e+"].Pause();")}},{key:"Play",value:function(e){o.RunScript("Content["+e+"].Play();")}},{key:"SeekBy",value:function(e,t){o.RunScript("Content["+e+"].SeekBy("+t+");")}},{key:"SeekTo",value:function(e,t){o.RunScript("Content["+e+"].SeekTo("+t+");")}},{key:"Resume",value:function(e){o.RunScript("Content["+e+"].Resume();")}},{key:"SetBalance",value:function(e,t){o.RunScript("Content["+e+"].SetBalance("+t+");")}},{key:"SetVolume",value:function(e,t){o.RunScript("Content["+e+"].SetVolume("+t+");")}},{key:"Stop",value:function(e){o.RunScript("Content["+e+"].Stop();")}},{key:"HighlightRows",value:function(e,t){o.RunScript("Content["+e+"].HighlightRows("+t+");")}}]),e}(),h={linear:function(e,t,n,i){return n*e/i+t},easeInQuad:function(e,t,n,i){return e/=i,n*e*e+t},easeOutQuad:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)},easeInCubic:function(e,t,n,i){return e/=i,n*e*e*e+t},easeOutCubic:function(e,t,n,i){return e/=i,e--,n*(e*e*e+1)+t},easeInOutCubic:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t)},easeInQuart:function(e,t,n,i){return e/=i,n*e*e*e*e+t},easeOutQuart:function(e,t,n,i){return e/=i,e--,-n*(e*e*e*e-1)+t},easeInOutQuart:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:(e-=2,-n/2*(e*e*e*e-2)+t)},easeInQuint:function(e,t,n,i){return e/=i,n*e*e*e*e*e+t},easeOutQuint:function(e,t,n,i){return e/=i,e--,n*(e*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:(e-=2,n/2*(e*e*e*e*e+2)+t)},easeInSine:function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},easeInExpo:function(e,t,n,i){return n*Math.pow(2,10*(e/i-1))+t},easeOutExpo:function(e,t,n,i){return n*(1-Math.pow(2,-10*e/i))+t},easeInOutExpo:function(e,t,n,i){return(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t)},easeInCirc:function(e,t,n,i){return e/=i,-n*(Math.sqrt(1-e*e)-1)+t},easeOutCirc:function(e,t,n,i){return e/=i,e--,n*Math.sqrt(1-e*e)+t},easeInOutCirc:function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:(e-=2,n/2*(Math.sqrt(1-e*e)+1)+t)},easeInElastic:function(e,t,n,i){var r=0,a=0;if(0==e)return t;if(1==(e/=i))return t+n;if(a||(a=.3*i),r<Math.abs(n)){r=n;u=a/4}else var u=a/(2*Math.PI)*Math.asin(n/r);return-r*Math.pow(2,10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/a)+t},easeOutElastic:function(e,t,n,i){var r=0,a=0;if(0==e)return t;if(1==(e/=i))return t+n;if(a||(a=.3*i),r<Math.abs(n)){r=n;u=a/4}else var u=a/(2*Math.PI)*Math.asin(n/r);return r*Math.pow(2,-10*e)*Math.sin((e*i-u)*(2*Math.PI)/a)+n+t},easeInOutElastic:function(e,t,n,i){var r=0,a=0;if(0==e)return t;if(2==(e/=i/2))return t+n;if(a||(a=i*(.3*1.5)),r<Math.abs(n)){r=n;u=a/4}else var u=a/(2*Math.PI)*Math.asin(n/r);return e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/a)*-.5+t:r*Math.pow(2,-10*(e-=1))*Math.sin((e*i-u)*(2*Math.PI)/a)*.5+n+t},easeInBack:function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+t},easeOutBack:function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},easeInOutBack:function(e,t,n,i,r){return void 0==r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},easeInBounce:function(e,t,n,i){return n-this.easeOutBounce(i-e,0,n,i)+t},easeOutBounce:function(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,i){return e<i/2?.5*this.easeInBounce(2*e,0,n,i)+t:.5*this.easeOutBounce(2*e-i,0,n,i)+.5*n+t}},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),y=function(){function e(){n(this,e)}return v(e,null,[{key:"splitColor",value:function(e){var t=parseInt("0x"+e.slice(1,3))/255;return{rgb:"#"+e.slice(3,9),opacity:t}}}]),e}(),p=function(){function e(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var u,o=e[Symbol.iterator]();!(i=(u=o.next()).done)&&(n.push(u.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();String.prototype.ReplaceIllegalChars=function(e){var t=this.replace(/{/g,"{&lb");return t=t.replace(/}/g,"&rb}"),t=t.replace(/,/g,"{&var:"+e+"_comma}"),t=t.replace(/{&lb/g,"{&lb}"),t=t.replace(/&rb}/g,"{&rb}")},String.prototype.startsWith=function(e){return this.slice(0,e.length)==e};var S=function(){function e(){i(this,e)}return g(e,null,[{key:"GetVariable",value:function(e){return""!=o.MarkupValue("{&var:"+e+"}")&&o.MarkupValue("{&var:"+e+"}")}},{key:"GetFontVariable",value:function(t){var n=e.GetVariable(t);return JSON.parse(n)}},{key:"GetManyVariables",value:function(e){var t=[],n=!0,i=!1,r=void 0;try{for(var a,u=e.entries()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value,c=p(l,2),s=(c[0],c[1]);t.push(o.MarkupValue("{&var:"+s+"}"))}}catch(e){i=!0,r=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw r}}return t}},{key:"SetVariable",value:function(e,t){o.RunScript("Player.SetVariable("+e+", "+t+");")}},{key:"SetFontVariable",value:function(t,n,i){e.SetVariable(t,JSON.stringify(n).ReplaceIllegalChars())}},{key:"SetManyVariables",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var u=r.value,l=p(u,2),c=l[0],s=l[1];o.RunScript("Player.SetVariable("+c+","+s+");")}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}}},{key:"CreateFontVariable",value:function(){return{fontFamily:"Arial",fontSize:9,fontStretch:null,fontStyle:null,fontWeight:null,textDecoration:null,fontColor:"#FF000000",textAlignment:"TopLeft",textAutoSize:!1,textSizeBehavior:"Fixed",fontLeading:0,frame:{type:"",backgroundColor:"#00424242",borderColor:"#008BD5B5"}}}},{key:"SetLanguage",value:function(e){o.RunScript("Player.SetLanguage("+e+");")}},{key:"ToggleVariable",value:function(e){o.RunScript("Player.ToggleVariable("+e+");")}},{key:"PlayTemplate",value:function(e,t){o.RunScript("Player.PlayTemplate("+e+(t?", "+t:"")+");")}},{key:"Command",value:function(e,t){var n="Player.Command("+e,i=!0,r=!1,a=void 0;try{for(var u,l=t.entries()[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value,s=p(c,2);s[0];n=n+", "+s[1]}}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}n+=");",o.RunScript(n)}},{key:"ResetIdleTimer",value:function(){o.RunScript("Player.ResetIdleTimer();")}},{key:"Restart",value:function(){o.RunScript("Player.Restart();")}},{key:"SendMail",value:function(e){var t="Player.SendMail(",n=!0,i=!1,r=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value,c=p(l,2);t=t+","+c[0]+"="+c[1]}}catch(e){i=!0,r=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw r}}t+=");",o.RunScript(t)}},{key:"Speak",value:function(e){var t="Player.Speak(";try{t+=e[msg]}catch(e){log.error(e)}var n=!0,i=!1,r=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value,c=p(l,2),s=c[0],f=c[1];t="msg"!=s?t+","+s+"="+f:""}}catch(e){i=!0,r=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw r}}t+=");",o.RunScript(t)}},{key:"UnsetVariable",value:function(e){o.RunScript("Player.UnsetVariable("+e+");")}}]),e}(),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),k=function(){function e(){a(this,e)}return m(e,null,[{key:"PlayContent",value:function(){var e=r(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){o.RunScript('Template.PlayContent("'+t+'", "'+n+'");'),e()}));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"PopContent",value:function(){o.RunScript("Template.PopContent();")}},{key:"PushContent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;o.RunScript("Template.PushContent("+e+", "+t+(void 0!=n?", "+n:"")+");")}},{key:"Restart",value:function(){o.RunScript("Template.Restart();")}},{key:"SetCanSize",value:function(e,t){o.RunScript("Template.SetCanSize("+e+", "+t+");")}},{key:"SetCanDrag",value:function(e,t){o.RunScript("Template.SetCanDrag("+e+", "+t+");")}},{key:"SetCanRotate",value:function(e,t){o.RunScript("Template.SetCanRotate("+e+", "+t+");")}},{key:"SetLeft",value:function(e,t){o.RunScript("Template.SetLeft("+e+","+t+");")}},{key:"SetTop",value:function(e,t){o.RunScript("Template.SetTop("+e+","+t+");")}},{key:"SetWidth",value:function(e,t){o.RunScript("Template.SetWidth("+e+","+t+");")}},{key:"SetHeight",value:function(e,t){o.RunScript("Template.SetHeight("+e+","+t+");")}},{key:"SetAngle",value:function(e,t){o.RunScript("Template.SetAngle("+e+", "+t+");")}},{key:"ClearLeft",value:function(e){o.RunScript("Template.ClearLeft("+e+");")}},{key:"ClearTop",value:function(e){o.RunScript("Template.ClearTop("+e+");")}},{key:"ClearWidth",value:function(e){o.RunScript("Template.ClearWidth("+e+");")}},{key:"ClearHeight",value:function(e){o.RunScript("Template.ClearHeight("+e+");")}},{key:"ClearAngle",value:function(e){o.RunScript("Template.ClearAngle("+e+");")}},{key:"SetZIndex",value:function(e,t){o.RunScript("Template.SetZIndex("+e+", "+t+");")}},{key:"ClearZIndex",value:function(e){o.RunScript("Template.ClearZIndex("+e+");")}},{key:"SetLinearVelocity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";o.RunScript("Template.SetLinearVelocity("+e+", "+t+", "+n+");")}},{key:"SetAngularVelocity",value:function(e,t){o.RunScript("Template.SetAngularVelocity("+e+", "+t+");")}}]),e}(),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),R=new WeakMap,d=new WeakMap,C=function(){function e(t,n,i,r){u(this,e),this.region_name=t,this.template_name=n,R.set(this,i),d.set(this,r),this.current_position=R.get(this),this.current_size=d.get(this)}return _(e,[{key:"resetPosition",value:function(){k.ClearLeft(this.region_name),k.ClearTop(this.region_name),this.current_position=originPosition}},{key:"resetSize",value:function(){k.ClearHeight(this.region_name),k.ClearWidth(this.region_name),this.current_size=originSize}},{key:"seek",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.Seek(this.region_name,t,n)}},{key:"_moveX",value:function(e){k.SetLeft(this.region_name,e),this.current_position[0]=e}},{key:"_moveY",value:function(e){k.SetTop(this.region_name,e),this.current_position[1]=e}},{key:"_resizeX",value:function(e){k.SetWidth(this.region_name,e),this.current_size[0]=e}},{key:"_resizeY",value:function(e){k.SetHeight(this.region_name,e),this.current_position[1]=e}},{key:"_resizeXCenter",value:function(e,t){k.SetWidth(this.region_name,e),k.SetLeft(this.region_name,t),this.current_size[0]=e,this.current_position[0]=t||this.current_position[0]}},{key:"_resizeYCenter",value:function(e,t){k.SetHeight(this.region_name,e),k.SetTop(this.region_name,t),this.current_size[1]=e,this.current_position[1]=t||this.current_position[1]}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear";return this._animateRegionInit(e,t,n,"position")}},{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear";return this._animateRegionInit(e,t,n,"size")}},{key:"resizeFromCenter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear";return this._animateRegionInit(e,t,n,"size_center")}},{key:"_animateRegionInit",value:function(e,t,n,i){var r=this;log.info("_animateRegionInit called, setting vars and calling _animateRegion");var a=void 0,u=void 0,o=(new Date).getTime(),l=o+t;"position"==i?(a=e[0]-this.current_position[0],u=e[1]-this.current_position[1]):"size"!=i&&"size_center"!=i||(a=e[0]-this.current_size[0],u=e[1]-this.current_size[1]);var c=Object.assign([],this.current_position),s=Object.assign([],this.current_size);return log.debug(c),log.debug(s),log.debug(e),new Promise(function(f){r._animateRegion(c,s,e,a,u,o,l,t,n,i,f)})}},{key:"_animateRegion",value:function(e,t,n,i,r,a,u,o,l,c,s){var f=void 0,v=void 0,y=void 0,p=void 0,g=(new Date).getTime(),S=g-a;if(g<u){"position"==c?(f=h[l](S,e[0],i,o),v=h[l](S,e[1],r,o),this._moveX(f),this._moveY(v)):"size"==c?(y=h[l](S,t[0],i,o),p=h[l](S,t[1],r,o),this._resizeX(y),this._resizeY(p)):"size_center"==c&&(y=h[l](S,t[0],i,o),p=h[l](S,t[1],r,o),f=e[0]-(y-t[0])/2,v=e[1]-(p-t[1])/2,this._resizeXCenter(y,f),this._resizeYCenter(p,v));var m=this;window.requestAnimationFrame(function(){m._animateRegion(e,t,n,i,r,a,u,o,l,c,s)})}else"position"==c?(this._moveX(n[0]),this._moveY(n[1])):"size"==c?(this._resizeX(n[0]),this._resizeY(n[1])):"size_center"==c&&(this._resizeXCenter(n[0],!1),this._resizeYCenter(n[1],!1)),s()}},{key:"originPosition",get:function(){return R.get(this)}},{key:"originSize",get:function(){return d.get(this)}},{key:"regionCenter",get:function(){var e=this.current_position[0],t=this.current_position[1],n=e+this.current_size[0],i=t+this.current_size[1];return xPrime=(e+n)/2,yPrime=(t+i)/2,[xPrime,yPrime]}}],[{key:"Seek",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];FWI.RunScript("Region["+e+'].Seek("'+t+'", "'+n+'");')}}]),e}();return e.Content=f,e.easingTypes=h,e.FWI=o,e.Helpers=y,e.Player=S,e.Region=C,e.Template=k,e}({});
